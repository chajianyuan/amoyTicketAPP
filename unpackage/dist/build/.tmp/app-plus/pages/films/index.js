(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/films/index"],{"55e4":function(i,n,e){"use strict";e.r(n);var t=e("94c3"),o=e("fe7c");for(var a in o)"default"!==a&&function(i){e.d(n,i,function(){return o[i]})}(a);e("9cad");var s=e("2877"),f=Object(s["a"])(o["default"],t["a"],t["b"],!1,null,null,null);n["default"]=f.exports},"6f79":function(i,n,e){},"94c3":function(i,n,e){"use strict";var t=function(){var i=this,n=i.$createElement;i._self._c},o=[];e.d(n,"a",function(){return t}),e.d(n,"b",function(){return o})},"9cad":function(i,n,e){"use strict";var t=e("6f79"),o=e.n(t);o.a},fe7c:function(i,n,e){"use strict";e.r(n);var t=e("feb5"),o=e.n(t);for(var a in t)"default"!==a&&function(i){e.d(n,i,function(){return t[i]})}(a);n["default"]=o.a},feb5:function(i,n,e){"use strict";(function(i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;s(e("8ad3"));var t=e("1c23"),o=e("6300"),a=e("14dc");function s(i){return i&&i.__esModule?i:{default:i}}function f(i){return l(i)||r(i)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function r(i){if(Symbol.iterator in Object(i)||"[object Arguments]"===Object.prototype.toString.call(i))return Array.from(i)}function l(i){if(Array.isArray(i)){for(var n=0,e=new Array(i.length);n<i.length;n++)e[n]=i[n];return e}}var u=function(){return e.e("components/uni-segmented-control/uni-segmented-control").then(e.bind(null,"cae7"))},d={data:function(){return{city:"邯郸",current:0,current1:0,hotMovies:[],commingMovies:[],cityId:"5d15b318eb5fb64a702bb2e0",cinemas:[]}},components:{uniSegmentedControl:u},onShow:function(){console.log("333333333"," at pages\\films\\index.vue:148"),i.getStorageSync("city")&&(this.city=i.getStorageSync("city").cityName,this.cityId=i.getStorageSync("city")._id),i.getStorageSync("zhuangtai")&&(this.current1=i.getStorageSync("zhuangtai"),console.log("this.current1"+JSON.stringify(this.current1)," at pages\\films\\index.vue:164")),this.getFilms()},onLoad:function(){},methods:{getFilms:function(){var i=this;this.hotMovies=[],this.commingMovies=[],(0,t.findAllFilms)().then(function(n){0===n.errno&&(n.data=f(new Set(n.data)),console.log("res.data"+JSON.stringify(n.data)," at pages\\films\\index.vue:179"),n.data.forEach(function(n){(0,t.findFilmById)({id:n}).then(function(n){0===n.errno&&(console.log("res1"+JSON.stringify(n)," at pages\\films\\index.vue:184"),n.data.pictures="http://"+n.data.pictures,0===n.data.dimensional?n.data.dimensional="3D":n.data.dimensional="2D",0===n.data.status&&(i.hotMovies.push(n.data),i.hotMovies=f(new Set(i.hotMovies)),console.log("this.hotMovies"+JSON.stringify(i.hotMovies)," at pages\\films\\index.vue:194")),1===n.data.status&&(i.commingMovies.push(n.data),console.log("this.commingMovies"+JSON.stringify(i.commingMovies)," at pages\\films\\index.vue:198")))},function(i){console.log("err1"+JSON.stringify(i)," at pages\\films\\index.vue:203")})}))},function(i){console.log("err"+JSON.stringify(i)," at pages\\films\\index.vue:210")})},tabSelect:function(i){console.log("e11111"+JSON.stringify(i)," at pages\\films\\index.vue:215")},onClickItem:function(i){console.log("e"+JSON.stringify(i)," at pages\\films\\index.vue:218"),this.current=i,this.findCinemaByCity()},onClickItem1:function(i){console.log("e"+JSON.stringify(i)," at pages\\films\\index.vue:224"),this.current1=i,this.getFilms()},selectCity:function(){i.navigateTo({url:"../index/searchAddr/index"})},gofindCinema:function(n){i.navigateTo({url:"./findCinema?id="+n._id+"&filmName="+n.filmName+"&cityId="+this.cityId})},goFilmDetail:function(n){console.log("data"+JSON.stringify(n)," at pages\\films\\index.vue:239"),i.navigateTo({url:"../films/filmDetail?filmId="+n._id})},findCinemaByCity:function(){var i=this;this.cinemas=[],console.log("fffffffffffffffffffffffffffffffffffffffffffffffff"," at pages\\films\\index.vue:246"),(0,o.findCinemaByCityId)({cityId:this.cityId}).then(function(n){console.log("res"+JSON.stringify(n)," at pages\\films\\index.vue:249"),0===n.errno&&n.data.forEach(function(n){console.log("item",JSON.stringify(n)," at pages\\films\\index.vue:253"),(0,a.findSessionByCieamId)({cinemaId:n._id}).then(function(e){if(0===e.errno&&0!==e.data.length){var t=[];e.data.forEach(function(i){t.push(parseFloat(i.price))}),n.minPrice=Math.min.apply({},t)}var o=[];console.log("ids",JSON.stringify(o)," at pages\\films\\index.vue:268"),console.log("ids.indexOf(item._id)=========",JSON.stringify(-1===o.indexOf(n._id))," at pages\\films\\index.vue:269"),-1===o.indexOf(n._id)&&(o.push(n._id),i.cinemas.push(n),i.cinemas=f(new Set(i.cinemas)))},function(i){console.log("err1",JSON.stringify(i)," at pages\\films\\index.vue:277")})})},function(i){console.log("err"+JSON.stringify(i)," at pages\\films\\index.vue:284")})},inputFocus:function(){console.log("wwwww"," at pages\\films\\index.vue:289"),i.navigateTo({url:"../films/searchFilmCinema"})},goMovieSession:function(n){console.log("data"+JSON.stringify(n)," at pages\\films\\index.vue:295"),i.navigateTo({url:"./movieSession?cinemaId="+n._id})}}};n.default=d}).call(this,e("6e42")["default"])}},[["a8bb","common/runtime","common/vendor"]]]);