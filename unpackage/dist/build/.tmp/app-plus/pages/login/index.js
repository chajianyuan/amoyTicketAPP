(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/index"],{"4cee":function(n,e,o){"use strict";var t=o("8595"),i=o.n(t);i.a},"594c":function(n,e,o){"use strict";o.r(e);var t=o("c585"),i=o.n(t);for(var s in t)"default"!==s&&function(n){o.d(e,n,function(){return t[n]})}(s);e["default"]=i.a},8595:function(n,e,o){},"9de7":function(n,e,o){"use strict";o.r(e);var t=o("e734"),i=o("594c");for(var s in i)"default"!==s&&function(n){o.d(e,n,function(){return i[n]})}(s);o("4cee");var a=o("2877"),c=Object(a["a"])(i["default"],t["a"],t["b"],!1,null,null,null);e["default"]=c.exports},c585:function(n,e,o){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o("8a23"),i=function(){return Promise.all([o.e("common/vendor"),o.e("components/drag/index")]).then(o.bind(null,"5dac"))},s={data:function(){return{isPwd:!0,showPwd:!1,password:""}},components:{drag:i},methods:{changeShowPwd:function(){this.showPwd=!this.showPwd},changePwd:function(n){console.log("1111",n," at pages\\login\\index.vue:57")},userLogin:function(){var e={telephone:this.telephone,password:this.password};(0,t.login)(e).then(function(e){console.log("res"+JSON.stringify(e)," at pages\\login\\index.vue:66"),0===e.errno?(n.setStorageSync("token",e.data.token),n.setStorageSync("userinfo",e.data.userInfo),n.showToast({title:"登录成功",duration:2e3}),n.switchTab({url:"../index/index"})):n.showToast({title:"登录失败",icon:"none"})},function(e){console.log("err",e," at pages\\login\\index.vue:85"),n.showToast({title:"登录失败",icon:"none"})})},userRegist:function(){n.navigateTo({url:"./regist/index"})},weLogin:function(){n.login({provider:"weixin",success:function(e){console.error("res："+JSON.stringify(e)," at pages\\login\\index.vue:103"),n.request({url:"https://api.weixin.qq.com/sns/userinfo?access_token=".concat(e.authResult.access_token,"&openid=").concat(e.authResult.openid),success:function(e){n.getUserInfo({provider:"weixin",withCredentials:!0,success:function(e){console.log("infoRes"+JSON.stringify(e)," at pages\\login\\index.vue:111"),(0,t.wechatLogin)({unionId:e.userInfo.unionId}).then(function(e){0===e.errno&&(console.log("res1"+JSON.stringify(e)," at pages\\login\\index.vue:115"),n.setStorageSync("token",e.data.token),n.setStorageSync("userinfo",e.data.userInfo),n.showToast({title:"登录成功",duration:2e3}),n.switchTab({url:"../index/index"}))}).catch(function(e){console.log(JSON.stringify(e)," at pages\\login\\index.vue:128"),n.showToast({title:"登录失败",icon:"none"})})},fail:function(e){console.log(JSON.stringify(e)," at pages\\login\\index.vue:136"),n.showToast({title:"登录失败",icon:"none"})}})}})},fail:function(e){console.error("授权登录失败："+JSON.stringify(e)," at pages\\login\\index.vue:147"),n.showToast({title:"登录失败",icon:"none"})}})}}};e.default=s}).call(this,o("6e42")["default"])},e734:function(n,e,o){"use strict";var t=function(){var n=this,e=n.$createElement;n._self._c},i=[];o.d(e,"a",function(){return t}),o.d(e,"b",function(){return i})}},[["cb1c","common/runtime","common/vendor"]]]);