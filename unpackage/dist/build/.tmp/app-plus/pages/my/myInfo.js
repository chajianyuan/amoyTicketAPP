(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/myInfo"],{"0013":function(e,n,o){"use strict";var t=o("bf64"),s=o.n(t);s.a},3056:function(e,n,o){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=a(o("a34a")),s=o("8a23");function a(e){return e&&e.__esModule?e:{default:e}}function r(e,n,o,t,s,a,r){try{var u=e[a](r),i=u.value}catch(f){return void o(f)}u.done?n(i):Promise.resolve(i).then(t,s)}function u(e){return function(){var n=this,o=arguments;return new Promise(function(t,s){var a=e.apply(n,o);function u(e){r(a,t,s,u,i,"next",e)}function i(e){r(a,t,s,u,i,"throw",e)}u(void 0)})}}var i={data:function(){return{userInfo:{},wechatShow:!0,modalName:null,account:""}},onShow:function(){this.userInfo=e.getStorageSync("userinfo"),this.userInfo.wechatInfo||(this.wechatShow=!0)},methods:{openDialog:function(){console.log("ggggggg"," at pages\\my\\myInfo.vue:84"),this.modalName="DialogModel1"},hideModal:function(){this.modalName=null},okModal:function(){this.modalName=null,this.userInfo.account=this.account},chooseImg:function(){var n=this;e.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album"],success:function(o){console.log("res"+JSON.stringify(o)," at pages\\my\\myInfo.vue:100"),"chooseImage:ok"===o.errMsg&&e.uploadFile({url:"https://www.sujunqiang.work/fastDfs/uploadFile",filePath:o.tempFilePaths[0],name:"file",formData:{user:"test"},success:function(e){console.log("res1"+JSON.stringify(e)," at pages\\my\\myInfo.vue:110"),200===e.statusCode&&(console.log(JSON.parse(e.data).URL," at pages\\my\\myInfo.vue:112"),n.userInfo.photo="http://"+JSON.parse(e.data).URL,console.log("this.userInfo.photo"+JSON.stringify(n.userInfo.photo)," at pages\\my\\myInfo.vue:114"))}})}})},bindWechat:function(){var e=u(t.default.mark(function e(){return t.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("wwwwwwwwww"," at pages\\my\\myInfo.vue:123"),e.next=3,this.outh();case 3:this.userInfo.wechatInfo=e.sent,console.log("this.userInfo.wechatInfo"+JSON.stringify(this.userInfo.wechatInfo)," at pages\\my\\myInfo.vue:125"),this.wechatShow=!1;case 6:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}(),outh:function(){return new Promise(function(n,o){e.getProvider({service:"oauth",success:function(o){console.log("res"+JSON.stringify(o)," at pages\\my\\myInfo.vue:133"),~o.provider.indexOf("weixin")&&(console.log("res"," at pages\\my\\myInfo.vue:135"),e.login({provider:"weixin",success:function(o){console.log("loginRes"+JSON.stringify(o)," at pages\\my\\myInfo.vue:139"),"login:ok"===o.errMsg&&(console.log("ddddddddddddd"," at pages\\my\\myInfo.vue:141"),e.getUserInfo({provider:"weixin",success:function(e){console.log("res1"+JSON.stringify(e)," at pages\\my\\myInfo.vue:145"),"getUserInfo:ok"===e.errMsg&&n(e.userInfo)}}))}}))}})})},confirmUpdata:function(){var n=this;console.log("userInfo"+JSON.stringify(this.userInfo)," at pages\\my\\myInfo.vue:160"),(0,s.updateUser)(this.userInfo).then(function(o){console.log("res"+JSON.stringify(o)," at pages\\my\\myInfo.vue:163"),0===o.errno&&(e.showToast({title:"修改个人信息成功",duration:2e3}),(0,s.findUserById)({_id:n.userInfo._id}).then(function(n){0===n.errno&&(console.log("res.data"+JSON.stringify(n.data)," at pages\\my\\myInfo.vue:171"),e.setStorageSync("userinfo",n.data))}))},function(e){console.log("err"+JSON.stringify(e)," at pages\\my\\myInfo.vue:178")})}}};n.default=i}).call(this,o("6e42")["default"])},"8d78":function(e,n,o){"use strict";o.r(n);var t=o("3056"),s=o.n(t);for(var a in t)"default"!==a&&function(e){o.d(n,e,function(){return t[e]})}(a);n["default"]=s.a},"92ae":function(e,n,o){"use strict";o.r(n);var t=o("dabc"),s=o("8d78");for(var a in s)"default"!==a&&function(e){o.d(n,e,function(){return s[e]})}(a);o("0013");var r=o("2877"),u=Object(r["a"])(s["default"],t["a"],t["b"],!1,null,null,null);n["default"]=u.exports},bf64:function(e,n,o){},dabc:function(e,n,o){"use strict";var t=function(){var e=this,n=e.$createElement;e._self._c},s=[];o.d(n,"a",function(){return t}),o.d(n,"b",function(){return s})}},[["a798","common/runtime","common/vendor"]]]);